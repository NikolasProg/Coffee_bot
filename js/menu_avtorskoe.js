// –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤
let avtorskoeList = document.querySelector('.avtorskoe-list');

// –ú–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤
let productsAvtorskoe = [
    {
        id: 'a001',
        name: '–°—ã—Ä–Ω—ã–π —Ä–∞—Ñ',
        image: '1a.png',
        prices: {
            350: 80,
        },
		description: '–°—ã—Ä–Ω—ã–π –†–ê–§ ‚Äî –Ω–µ–æ–±—ã—á–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –¥–ª—è –≥—É—Ä–º–∞–Ω–æ–≤! üßÄ‚òï –≠—Ç–æ—Ç –Ω–∞–ø–∏—Ç–æ–∫ —É–¥–∏–≤–∏—Ç –≤–∞—Å –Ω–µ–∂–Ω–æ–π —Å–ª–∏–≤–æ—á–Ω–æ—Å—Ç—å—é —Å –ª—ë–≥–∫–∏–º –æ—Ç—Ç–µ–Ω–∫–æ–º —Å—ã—Ä–∞, –ø—Ä–µ–≤—Ä–∞—â–∞—è –∫–∞–∂–¥—É—é —á–∞—à–∫—É –≤ –º–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–æ–≤–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤–∫—É—Å–∞! #–°–ª–∏–≤–æ—á–Ω–∞—è–§–∞–Ω—Ç–∞–∑–∏—è',
    },
    {
        id: 'a002',
        name: '–†–∞—Ñ –°–ö–ê',
        image: '2a.png',
        prices: {
            350: 80,
            400: 100,
        },
		description: '–†–ê–§ —Å–æ–ª—ë–Ω—ã–π –∫—Ä–∞—Å–Ω—ã–π –∞–ø–µ–ª—å—Å–∏–Ω ‚Äî –≤–∑—Ä—ã–≤ –≤–∫—É—Å–æ–≤ —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º –∞–∫—Ü–µ–Ω—Ç–æ–º! üçäüåä –≠—Ç–æ—Ç —Ä–∞—Ñ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–ª–∏–≤–æ—á–Ω—É—é –º—è–≥–∫–æ—Å—Ç—å –∏ —Å–æ–ª–æ–Ω–æ–≤–∞—Ç—ã–π –≤–∫—É—Å –∞–ø–µ–ª—å—Å–∏–Ω–∞, —Å–æ–∑–¥–∞–≤–∞—è –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π –∏ —ç–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–∫—Ç–µ–π–ª—å, –∫–æ—Ç–æ—Ä—ã–π –æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∏—è—Ç–Ω–æ–µ –ø–æ—Å–ª–µ–≤–∫—É—Å–∏–µ. #–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–π–†–ê–§',
    },
    {
        id: 'a003',
        name: '–†–∞—Ñ –ë-–ò–ö',
        image: '3a.png',
        prices: {
            350: 160,
        },
		description: '–†–ê–§ –ë–∞—É–Ω—Ç–∏-–ò—Ä–ª–∞–Ω–¥—Å–∫–∏–π –∫—Ä–µ–º ‚Äî –≤–∫—É—Å –æ—Å—Ç—Ä–æ–≤–æ–≤ –≤ –≤–∞—à–µ–π —á–∞—à–∫–µ! ü••üáÆüá™ –ú—è–≥–∫–∏–π –∫–æ–∫–æ—Å –∏ –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–π –∏—Ä–ª–∞–Ω–¥—Å–∫–∏–π –∫—Ä–µ–º –¥–µ–ª–∞—é—Ç —ç—Ç–æ—Ç –Ω–∞–ø–∏—Ç–æ–∫ —Ä–æ—Å–∫–æ—à–Ω—ã–º –∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–º. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –æ—Å–æ–±—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –∏ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏—è. #–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π–†–ê–§',
    },
    {
        id: 'a004',
        name: '–ö–∞–ø—É—á–∏–Ω–æ –°–ê–ü',
        image: '4a.png',
        prices: {
            350: 160,
        },
		description: '–ö–∞–ø—É—á–∏–Ω–æ —Å —Å–æ–ª—ë–Ω–æ–π –∞—Ä–∞—Ö–∏—Å–æ–≤–æ–π –ø–∞—Å—Ç–æ–π ‚Äî –Ω–µ–∂–Ω—ã–π –∫–æ—Ñ–µ —Å —Ö—Ä—É—Å—Ç—è—â–∏–º–∏ –æ—Ä–µ—Ö–æ–≤—ã–º–∏ –Ω–æ—Ç–∫–∞–º–∏! ‚òïü•ú –≠—Ç–æ—Ç –Ω–∞–ø–∏—Ç–æ–∫ —Å–æ–µ–¥–∏–Ω—è–µ—Ç –≤ —Å–µ–±–µ —Å–ª–∏–≤–æ—á–Ω—É—é —Ç–µ–∫—Å—Ç—É—Ä—É –∫–∞–ø—É—á–∏–Ω–æ —Å —Å–æ–ª—ë–Ω–æ-–æ—Ä–µ—Ö–æ–≤—ã–º –∞–∫—Ü–µ–Ω—Ç–æ–º, –¥–æ–±–∞–≤–ª—è—è –Ω–æ–≤–∏–∑–Ω—ã –≤–∞—à–µ–º—É –∫–æ—Ñ–µ–π–Ω–æ–º—É —Ä–∏—Ç—É–∞–ª—É. #–û—Ä–µ—Ö–æ–≤–æ–µ–ù–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ',
    }
];

// –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–∑ –º–∞—Å—Å–∏–≤–∞ productsAvtorskoe —Å–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞
productsAvtorskoe.forEach((product) => {
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç div –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞
    let newDiv = document.createElement('div');
    newDiv.classList.add('item'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å 'item' –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
    newDiv.setAttribute('data-key', product.id); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º data-–∞—Ç—Ä–∏–±—É—Ç —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –ø—Ä–æ–¥—É–∫—Ç–∞

    // –ù–∞—Ö–æ–¥–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ü–µ–Ω—É
    let volumes = Object.keys(product.prices).map(Number); // –ü–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–º–æ–≤
    let minVolume = Math.min(...volumes); // –ù–∞—Ö–æ–¥–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º
    let minPrice = product.prices[minVolume]; // –ü–æ–ª—É—á–∞–µ–º —Ü–µ–Ω—É –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–º–∞

    // –§–æ—Ä–º–∏—Ä—É–µ–º HTML –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞
    newDiv.innerHTML = `
        <img src="image/avtorskoe/${product.image}" data-description="${product.description}" class="picture"> <!-- –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é -->
        <div class="title">${product.name}</div> <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ -->
        <div class="price" id="price_${product.id}">${getFormattedPrice(minPrice)}</div> <!-- –¶–µ–Ω–∞ –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ -->
        
        <!-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–±—ä–µ–º–∞ -->
        <select id="user_obym_${product.id}" onchange="updatePrice('${product.id}')">
            ${volumes.map(volume => `<option value="${volume}">${volume} –º–ª</option>`).join('')}
        </select>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É -->
        <button class="dobavit" onclick="addToCard('${product.id}')">–í –∫–æ—Ä–∑–∏–Ω—É</button>`;
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞ –≤ avtorskoeList
    avtorskoeList.appendChild(newDiv);
});

// –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–∞—è
let necoffeeList = document.querySelector('.necoffee-list');

// –ú–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –∫–æ—Ñ–µ
let productsNecoffee = [
    {
        id: 'n001',
        name: '–ì–ª–∏–Ω—Ç–≤–µ–π–Ω',
        image: '1n.png',
        prices: {
            350: 80,
        },
		description: '–ì–ª–∏–Ω—Ç–≤–µ–π–Ω ‚Äî —Å–æ–≥—Ä–µ–≤–∞—é—â–∏–π –∞—Ä–æ–º–∞—Ç–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è —É—é—Ç–Ω—ã—Ö –≤–µ—á–µ—Ä–æ–≤! üç∑‚ú® –ù–∞—Å–ª–∞–¥–∏—Ç–µ—Å—å –±–æ–≥–∞—Ç—Å—Ç–≤–æ–º –ø—Ä—è–Ω–æ—Å—Ç–µ–π, —Ñ—Ä—É–∫—Ç–æ–≤ –∏ —Å–æ–≥—Ä–µ–≤–∞—é—â–µ–≥–æ –≤–∏–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–Ω–µ—Å—É—Ç –≤–∞—Å –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∑–∏–º–Ω–µ–π —Å–∫–∞–∑–∫–∏. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –Ω–µ—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ –∏ –¥—É—à–µ–≤–Ω—ã—Ö –±–µ—Å–µ–¥. üå≤üçä #–ó–∏–º–Ω–∏–π–ö–æ–∫—Ç–µ–π–ª—å',
    },
    {
        id: 'n002',
        name: '–ú–∞—Ç—á–∞',
        image: '2n.png',
        prices: {
            350: 80,
            400: 100,
        },
		description: '–ú–∞—Ç—á–∞ ‚Äî —ç–Ω–µ—Ä–≥–∏—è –ø—Ä–∏—Ä–æ–¥—ã –≤ –∫–∞–∂–¥–æ–π —á–∞—à–∫–µ! üçµüíö –≠—Ç–æ—Ç –∑–µ–ª—ë–Ω—ã–π —á–∞–π –∏–∑ –Ø–ø–æ–Ω–∏–∏ –ø–æ–¥–∞—Ä–∏—Ç –≤–∞–º –±–æ–¥—Ä–æ—Å—Ç—å, –º—è–≥–∫–∏–π —Ç—Ä–∞–≤—è–Ω–æ–π –≤–∫—É—Å –∏ –ª—ë–≥–∫–∏–π –∞—Ä–æ–º–∞—Ç. –û—â—É—Ç–∏—Ç–µ —Å–≤—è–∑—å —Å –ø—Ä–∏—Ä–æ–¥–æ–π –∏ –≥–∞—Ä–º–æ–Ω–∏—é –≤ –∫–∞–∂–¥–æ–º –≥–ª–æ—Ç–∫–µ! #–ß–∞–π–Ω–æ–µ–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ',
    }, 
    {
        id: 'n003',
        name: '–ö–∞–∫–∞–æ',
        image: '3n.png',
        prices: {
            350: 160,
        },
		description: '–ö–∞–∫–∞–æ ‚Äî –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –≤ –¥–µ—Ç—Å—Ç–≤–æ —Å –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–º –≤–∫—É—Å–æ–º —à–æ–∫–æ–ª–∞–¥–∞! üç´ü•õ –ü–æ—á—É–≤—Å—Ç–≤—É–π—Ç–µ —É—é—Ç –∏ —Ç–µ–ø–ª–æ, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞—Ä–∏—Ç –∫–∞–∂–¥–∞—è —á–∞—à–∫–∞ —ç—Ç–æ–≥–æ –Ω–∞–ø–∏—Ç–∫–∞, –ø—Ä–æ–±—É–∂–¥–∞—è –ø—Ä–∏—è—Ç–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ —Å–æ–∑–¥–∞–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ. #–®–æ–∫–æ–ª–∞–¥–Ω–æ–µ–°—á–∞—Å—Ç—å–µ',
    },
    {
        id: 'n004',
        name: '–ì–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥',
        image: '4n.png',
        prices: {
            350: 160,
        },
		description: '–ì–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥ ‚Äî –∏—Å—Ç–∏–Ω–Ω–æ–µ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ –¥–ª—è —Ü–µ–Ω–∏—Ç–µ–ª–µ–π —à–æ–∫–æ–ª–∞–¥–∞! üç´‚òï –ë–∞—Ä—Ö–∞—Ç–∏—Å—Ç—ã–π, –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π –∏ —Å–æ–≥—Ä–µ–≤–∞—é—â–∏–π, —ç—Ç–æ—Ç –Ω–∞–ø–∏—Ç–æ–∫ —Å–ª–æ–≤–Ω–æ —Å–æ–∑–¥–∞–Ω, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–∞–¥–æ—Å—Ç–∏ –≤ —Ö–æ–ª–æ–¥–Ω—ã–π –¥–µ–Ω—å. –û–∫—É–Ω–∏—Ç–µ—Å—å –≤ –µ–≥–æ —Ç—ë–ø–ª—ã–µ –æ–±—ä—è—Ç–∏—è –∏ –∑–∞–±—É–¥—å—Ç–µ –æ –∑–∞–±–æ—Ç–∞—Ö. #–®–æ–∫–æ–ª–∞–¥–Ω–∞—è–†–∞–¥–æ—Å—Ç—å',
    }
];

// –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–∑ –º–∞—Å—Å–∏–≤–∞ productsNecoffee —Å–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞
productsNecoffee.forEach((product) => {
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç div –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞
    let newDiv = document.createElement('div');
    newDiv.classList.add('item'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å 'item' –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
    newDiv.setAttribute('data-key', product.id); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º data-–∞—Ç—Ä–∏–±—É—Ç —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –ø—Ä–æ–¥—É–∫—Ç–∞

    // –ù–∞—Ö–æ–¥–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ü–µ–Ω—É
    let volumes = Object.keys(product.prices).map(Number); // –ü–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–º–æ–≤
    let minVolume = Math.min(...volumes); // –ù–∞—Ö–æ–¥–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º
    let minPrice = product.prices[minVolume]; // –ü–æ–ª—É—á–∞–µ–º —Ü–µ–Ω—É –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–º–∞

    // –§–æ—Ä–º–∏—Ä—É–µ–º HTML –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞
    newDiv.innerHTML = `
        <img src="image/necoffee/${product.image}" data-description="${product.description}" class="picture"> <!-- –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é -->
        <div class="title">${product.name}</div> <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ -->
        <div class="price" id="price_${product.id}">${getFormattedPrice(minPrice)}</div> <!-- –¶–µ–Ω–∞ –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ -->
        
        <!-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–±—ä–µ–º–∞ -->
        <select id="user_obym_${product.id}" onchange="updatePrice('${product.id}')">
            ${volumes.map(volume => `<option value="${volume}">${volume} –º–ª</option>`).join('')}
        </select>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É -->
        <button class="dobavit" onclick="addToCard('${product.id}')">–í –∫–æ—Ä–∑–∏–Ω—É</button>`;
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞ –≤ necoffeeList
    necoffeeList.appendChild(newDiv);
});
